<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Eano Community Search</title>
    <script type="text/javascript"> (function () {
        var css = document.createElement('link');
        css.href = 'https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css';
        css.rel = 'stylesheet';
        css.type = 'text/css';
        document.getElementsByTagName('head')[0].appendChild(css);
    })();
    </script>
    <link rel="stylesheet" href="/static/css/app.css">
    <link rel="stylesheet" href="/static/css/theme.css">

</head>

<body>

<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top">
    <a class="navbar-brand font-weight-bolder mr-3" href="/">
        <svg class="w-full h-full" width="102" height="50" viewBox="0 0 102 50" fill="none"
             xmlns="http://www.w3.org/2000/svg">
            <rect width="101.136" height="50" fill="#2246c5"></rect>
            <path d="M38.1247 15.7609C38.0668 16.4843 38.0234 17.1861 37.9945 17.8661C37.98 18.5317 37.9728 19.0454 37.9728 19.4071C37.9728 19.711 37.98 20.0004 37.9945 20.2753C38.0089 20.5502 38.0234 20.7817 38.0379 20.9698H37.5387C37.3651 19.7689 37.0757 18.8284 36.6705 18.1483C36.2654 17.4538 35.7879 16.9691 35.2381 16.6941C34.7027 16.4047 34.1384 16.2601 33.5452 16.2601H33.263C32.8868 16.2601 32.6047 16.2962 32.4166 16.3686C32.2285 16.4265 32.0982 16.5494 32.0259 16.7375C31.968 16.9256 31.9391 17.2223 31.9391 17.6274V29.2607C31.9391 29.6514 31.968 29.948 32.0259 30.1506C32.0982 30.3387 32.2285 30.4689 32.4166 30.5413C32.6047 30.5991 32.8868 30.6281 33.263 30.6281H33.9792C34.4567 30.6281 34.9559 30.4761 35.4768 30.1723C36.0122 29.854 36.5041 29.3186 36.9527 28.5662C37.4012 27.8138 37.7413 26.7865 37.9728 25.4842H38.472C38.4286 26.0051 38.4068 26.6707 38.4068 27.481C38.4068 27.8427 38.4141 28.3636 38.4286 29.0437C38.443 29.7093 38.4864 30.4038 38.5588 31.1273C37.8208 31.0983 36.9889 31.0839 36.0628 31.0839C35.1368 31.0694 34.312 31.0622 33.5886 31.0622C33.1979 31.0622 32.6987 31.0622 32.091 31.0622C31.4978 31.0622 30.8466 31.0694 30.1376 31.0839C29.4431 31.0839 28.7341 31.0911 28.0107 31.1056C27.3017 31.1056 26.6288 31.1128 25.9922 31.1273V30.6932C26.4407 30.6642 26.7735 30.6064 26.9906 30.5196C27.2076 30.4327 27.3523 30.2591 27.4246 29.9987C27.497 29.7382 27.5332 29.3475 27.5332 28.8266V18.0615C27.5332 17.5261 27.497 17.1354 27.4246 16.8895C27.3523 16.629 27.2004 16.4554 26.9689 16.3686C26.7518 16.2673 26.4263 16.2094 25.9922 16.1949V15.7609C26.6288 15.7753 27.3017 15.7898 28.0107 15.8043C28.7341 15.8043 29.4431 15.8115 30.1376 15.826C30.8466 15.826 31.4978 15.826 32.091 15.826C32.6987 15.826 33.1979 15.826 33.5886 15.826C34.2542 15.826 35.0066 15.826 35.8458 15.826C36.6995 15.8115 37.4591 15.7898 38.1247 15.7609ZM34.9776 23.1836C34.9776 23.1836 34.9776 23.256 34.9776 23.4007C34.9776 23.5453 34.9776 23.6177 34.9776 23.6177H31.288C31.288 23.6177 31.288 23.5453 31.288 23.4007C31.288 23.256 31.288 23.1836 31.288 23.1836H34.9776ZM35.607 20.3187C35.5492 21.1434 35.5202 21.7729 35.5202 22.2069C35.5347 22.641 35.5419 23.0389 35.5419 23.4007C35.5419 23.7624 35.5492 24.1603 35.5636 24.5944C35.5781 25.0285 35.6143 25.6579 35.6722 26.4826H35.173C35.0861 25.9473 34.9053 25.4625 34.6304 25.0285C34.3699 24.5944 34.0299 24.2543 33.6103 24.0084C33.1907 23.7479 32.7059 23.6177 32.1561 23.6177V23.1836C32.5613 23.1836 32.9302 23.0968 33.263 22.9232C33.5958 22.7495 33.8852 22.518 34.1312 22.2286C34.3916 21.9393 34.6014 21.6282 34.7606 21.2954C34.9342 20.9626 35.05 20.637 35.1078 20.3187H35.607Z"
                  fill="white"></path>
            <path d="M42.8863 31.2792C42.2063 31.2792 41.6492 31.149 41.2151 30.8885C40.7811 30.6281 40.4627 30.288 40.2602 29.8684C40.0721 29.4488 39.978 29.0075 39.978 28.5445C39.978 27.9368 40.1155 27.4448 40.3904 27.0686C40.6653 26.678 41.0198 26.3669 41.4539 26.1354C41.9024 25.8894 42.3727 25.6868 42.8646 25.5276C43.3566 25.3685 43.8196 25.2166 44.2537 25.0719C44.7022 24.9127 45.064 24.7318 45.3389 24.5293C45.6138 24.3122 45.7513 24.0373 45.7513 23.7045V21.7729C45.7513 21.5413 45.7079 21.2881 45.621 21.0132C45.5487 20.7383 45.404 20.4996 45.187 20.297C44.9699 20.0944 44.6444 19.9931 44.2103 19.9931C43.9788 19.9931 43.7545 20.0293 43.5375 20.1017C43.3349 20.1595 43.154 20.2463 42.9949 20.3621C43.5013 20.5502 43.8703 20.8179 44.1018 21.1651C44.3333 21.4979 44.449 21.8669 44.449 22.272C44.449 22.8508 44.2465 23.3066 43.8413 23.6394C43.4362 23.9722 42.9587 24.1386 42.4089 24.1386C41.8301 24.1386 41.3815 23.9577 41.0632 23.596C40.7449 23.2343 40.5857 22.7857 40.5857 22.2503C40.5857 21.8018 40.6942 21.4256 40.9113 21.1217C41.1428 20.8034 41.4828 20.514 41.9314 20.2536C42.3654 20.0076 42.8863 19.834 43.4941 19.7327C44.1018 19.6169 44.7384 19.5591 45.404 19.5591C46.113 19.5591 46.7713 19.6314 47.3791 19.7761C47.9868 19.9063 48.5077 20.1957 48.9417 20.6443C49.2456 20.9626 49.4409 21.3605 49.5278 21.838C49.6146 22.3155 49.658 22.9304 49.658 23.6828V29.4995C49.658 29.8612 49.6797 30.1072 49.7231 30.2374C49.781 30.3676 49.875 30.4327 50.0052 30.4327C50.121 30.4327 50.2295 30.3966 50.3308 30.3242C50.4466 30.2519 50.5551 30.1795 50.6564 30.1072L50.8734 30.4761C50.5551 30.7511 50.1572 30.9536 49.6797 31.0839C49.2167 31.2141 48.7247 31.2792 48.2038 31.2792C47.5816 31.2792 47.0969 31.2068 46.7496 31.0622C46.4169 30.903 46.1781 30.7004 46.0334 30.4544C45.9032 30.194 45.8308 29.9191 45.8164 29.6297C45.5125 30.1072 45.1291 30.5051 44.6661 30.8234C44.2175 31.1273 43.6243 31.2792 42.8863 31.2792ZM44.9482 29.5429C45.1074 29.5429 45.2448 29.5212 45.3606 29.4778C45.4908 29.4199 45.621 29.3186 45.7513 29.1739V24.5944C45.65 24.7825 45.5125 24.9706 45.3389 25.1587C45.1797 25.3323 45.0133 25.5132 44.8397 25.7013C44.6661 25.8894 44.4997 26.0919 44.3405 26.309C44.1958 26.526 44.0728 26.7792 43.9715 27.0686C43.8847 27.3435 43.8413 27.6691 43.8413 28.0453C43.8413 28.5951 43.9426 28.9858 44.1452 29.2173C44.3622 29.4344 44.6299 29.5429 44.9482 29.5429Z"
                  fill="white"></path>
            <path d="M60.0596 19.5591C60.7252 19.5591 61.2461 19.6459 61.6223 19.8195C62.013 19.9787 62.3096 20.1812 62.5121 20.4272C62.7292 20.6877 62.8883 21.0349 62.9896 21.469C63.0909 21.9031 63.1416 22.4891 63.1416 23.227V29.1088C63.1416 29.7165 63.2284 30.1289 63.402 30.3459C63.5901 30.563 63.9084 30.6715 64.357 30.6715V31.1273C64.0676 31.1128 63.6263 31.0983 63.033 31.0839C62.4543 31.0549 61.8827 31.0404 61.3184 31.0404C60.7107 31.0404 60.1175 31.0549 59.5387 31.0839C58.9599 31.0983 58.5258 31.1128 58.2365 31.1273V30.6715C58.6127 30.6715 58.8731 30.563 59.0178 30.3459C59.1625 30.1289 59.2348 29.7165 59.2348 29.1088V22.055C59.2348 21.7512 59.1987 21.4979 59.1263 21.2954C59.054 21.0928 58.9382 20.9409 58.7791 20.8396C58.6344 20.7383 58.4318 20.6877 58.1714 20.6877C57.9109 20.6877 57.6577 20.7528 57.4117 20.883C57.1802 21.0132 56.9849 21.2013 56.8257 21.4473C56.681 21.6788 56.6087 21.9465 56.6087 22.2503V29.1088C56.6087 29.7165 56.681 30.1289 56.8257 30.3459C56.9849 30.563 57.2453 30.6715 57.607 30.6715V31.1273C57.3321 31.1128 56.927 31.0983 56.3916 31.0839C55.8563 31.0549 55.3064 31.0404 54.7421 31.0404C54.1344 31.0404 53.5195 31.0549 52.8973 31.0839C52.2751 31.0983 51.8049 31.1128 51.4865 31.1273V30.6715C51.9351 30.6715 52.2462 30.563 52.4198 30.3459C52.6079 30.1289 52.702 29.7165 52.702 29.1088V22.2286C52.702 21.5775 52.6151 21.1 52.4415 20.7962C52.2679 20.4779 51.9496 20.3187 51.4865 20.3187V19.8629C51.9496 19.9063 52.3981 19.928 52.8322 19.928C53.5556 19.928 54.2285 19.9063 54.8506 19.8629C55.4873 19.805 56.0733 19.7255 56.6087 19.6242V21.1869C56.9559 20.6081 57.4189 20.1957 57.9977 19.9497C58.591 19.6893 59.2783 19.5591 60.0596 19.5591Z"
                  fill="white"></path>
            <path d="M70.8465 19.5591C71.9751 19.5591 72.9517 19.7544 73.7765 20.1451C74.6157 20.5213 75.2668 21.1434 75.7298 22.0116C76.1929 22.8798 76.4244 24.0445 76.4244 25.5059C76.4244 26.9673 76.1929 28.1321 75.7298 29.0003C75.2668 29.8684 74.6157 30.4906 73.7765 30.8668C72.9517 31.243 71.9751 31.4311 70.8465 31.4311C69.7323 31.4311 68.7556 31.243 67.9164 30.8668C67.0772 30.4906 66.4261 29.8684 65.9631 29.0003C65.5 28.1321 65.2685 26.9673 65.2685 25.5059C65.2685 24.0445 65.5 22.8798 65.9631 22.0116C66.4261 21.1434 67.0772 20.5213 67.9164 20.1451C68.7556 19.7544 69.7323 19.5591 70.8465 19.5591ZM70.8465 19.9931C70.4124 19.9931 70.0506 20.4272 69.7613 21.2954C69.4719 22.1635 69.3272 23.5671 69.3272 25.5059C69.3272 27.4448 69.4719 28.8483 69.7613 29.7165C70.0506 30.5702 70.4124 30.997 70.8465 30.997C71.2805 30.997 71.6423 30.5702 71.9317 29.7165C72.221 28.8483 72.3657 27.4448 72.3657 25.5059C72.3657 23.5671 72.221 22.1635 71.9317 21.2954C71.6423 20.4272 71.2805 19.9931 70.8465 19.9931Z"
                  fill="white"></path>
        </svg>
    </a>
    <button class="navbar-light navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsDefault"
            aria-controls="navbarsDefault" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarsDefault">
        <ul class="navbar-nav mr-auto align-items-center">
            <form class="bd-search hidden-sm-down" action="/search" method="POST">
                <div class="input-group">
                    <input type="text" class="form-control bg-graylight border-0 font-weight-bold" id="search-input"
                           placeholder="Search..." name="keyword" autocomplete="off">
                    <button class="btn" type="submit">Go</button>
                </div>
            </form>
        </ul>

        <ul class="navbar-nav ml-auto align-items-center">
            <li class="nav-item">
                <a class="nav-link active" href="/">Home</a>
            </li>

            <li class="nav-item">
                <a class="nav-link" href="/post/create">Create</a>
            </li>

            <li class="nav-item">
                <a class="nav-link" href="/user_profile">
                    <img class="images rounded-circle mr-2" src="{{ session["avatar_url"] }}" alt="avatar"
                         style="object-fit : cover" height="30" width="30">
                    <span class="align-middle">{{ session["username"] }}</span>
                </a>
            </li>

            <li class="nav-item dropdown">
                <a class="nav-link" href="#" id="dropdown02" data-toggle="dropdown" aria-haspopup="true"
                   aria-expanded="false">
                    <svg style="margin-top:10px;" class="_3DJPT" version="1.1" viewbox="0 0 32 32" width="21"
                         height="21" aria-hidden="false" data-reactid="71">
                        <path d="M7 15.5c0 1.9-1.6 3.5-3.5 3.5s-3.5-1.6-3.5-3.5 1.6-3.5 3.5-3.5 3.5 1.6 3.5 3.5zm21.5-3.5c-1.9 0-3.5 1.6-3.5 3.5s1.6 3.5 3.5 3.5 3.5-1.6 3.5-3.5-1.6-3.5-3.5-3.5zm-12.5 0c-1.9 0-3.5 1.6-3.5 3.5s1.6 3.5 3.5 3.5 3.5-1.6 3.5-3.5-1.6-3.5-3.5-3.5z"
                              data-reactid="22"></path>
                    </svg>
                </a>
                <div class="dropdown-menu dropdown-menu-right shadow-lg" aria-labelledby="dropdown02">
                    <span class="dropdown-item">
                        <a href="/logout" class="btn btn-primary d-block" data-toggle="modal"
                           data-target="#logoutModal">logout</a>
                    </span>
                </div>
            </li>
        </ul>
    </div>
</nav>

<main role="main">
    <section class="mt-4 mb-5">
        <div class="container mb-4">
            <h1 class="font-weight-bold title">Results</h1>
            <div class="row">
                <nav class="navbar navbar-expand-lg navbar-light bg-white pl-2 pr-2">
                    <button class="navbar-light navbar-toggler" type="button" data-toggle="collapse"
                            data-target="#navbarsExplore" aria-controls="navbarsDefault" aria-expanded="false"
                            aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarsExplore">
                        <ul class="navbar-nav">
                            <li class="nav-item">
                                <a class="nav-link" href="?nav=posts&keyword={{ keyword }}">Posts</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="?nav=people&keyword={{ keyword }}">People</a>
                            </li>
                        </ul>
                    </div>
                </nav>
            </div>
        </div>
        {% if nav == "posts" %}
            {% if post_cards is none or post_cards |length == 0 %}
                <div class="container-fluid mb-5">
                    <div class="row" style="display: flex; align-items: center; justify-content: center;">
                        <h3> Nothing related found here... </h3>
                    </div>
                </div>

            {% else %}
                <div class="container-fluid mb-5">
                    <div class="row">
                        <div class="card-columns">
                            {% for post_card in post_cards %}
                                <div class="card card-pin">
                                    <img class="card-img"
                                         src="{{ post_card["post_img_url"] }}"
                                         alt="Card image">
                                    <div class="overlay">
                                        <h2 class="card-title title">{{ post_card["title"] }}</h2>
                                        <div class="more">
                                            <a class="nav-link" href="/post/{{ post_card["_id"] }}">
                                                <i class="fa fa-arrow-circle-o-right" aria-hidden="true"></i> View </a>
                                        </div>
                                    </div>
                                </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>

            {% endif %}
        {% elif nav == "people" %}
            {% if user_cards is none or user_cards |length == 0 %}
                <div class="container-fluid mb-5">
                    <div class="row" style="display: flex; align-items: center; justify-content: center;">
                        <h3> Nobody found here... </h3>
                    </div>
                </div>
            {% else %}
                <div class="container mb-4" style="display: flex; flex-wrap: wrap">
                    <div class="row">
                        {% for user_card in user_cards %}
                            <div style="border: 2px solid rgba(178,178,178, 0.2); margin: 0.5em; border-radius: 1rem; width: 320px">
                                <div class="card">
                                    <div class="row no-gutters">
                                        <div class="col-md-4"
                                             style="display: flex; align-items: center; justify-content: center; padding-left: 1em">
                                            <a href="/user/{{ user_card["_id"] }}">
                                                <img src="{{ user_card["avatar_url"] }}" class="rounded-circle"
                                                     style="object-fit : cover; margin: auto" height="85"
                                                     width="85"
                                                     alt="user_avatar"></a>
                                        </div>
                                        <div class="col-md-8">
                                            <div class="card-body" style="padding: 1rem">
                                                <h5 class="card-title">{{ user_card["username"] }}</h5>
                                                <p class="card-text"
                                                   style="height: 40px">{{ user_card["aboutyou"] | truncate(40, true) }}</p>
                                                <p class="card-text"><small
                                                        class="text-muted">Followers: {{ user_card["followers"] | length }}</small>
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                </div>
            {% endif %}
        {% endif %}
    </section>

    <div class="modal" id="logoutModal" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-primary" style="margin-top: 25em;">
            <div class="modal-content">
                <div class="modal-header">
                    <h4><i class="fa fa-lock" style="margin-right: 10px"></i>Log Out </h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">×</span></button>
                </div>
                <div class="modal-body">
                    <p><i class="fa fa-question-circle"></i> Are you sure you want to log out? <br/></p>
                    <div class="actionsBtns" style="text-align: center">
                        <form action="/logout" method="POST">
                            <input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}"/>
                            {#<button type="submit" class="btn btn-default btn-primary" data-dismiss="modal">Logout</button>#}
                            <a class="btn btn-primary nav__link" href="/logout" role="button"><span class="nav__item">Log out</span></a>
                            <button class="btn btn-default" data-dismiss="modal">Cancel</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

</main>

<script src="/static/js/app.js"></script>
<script src="/static/js/theme.js"></script>

<footer class="footer pt-5 pb-5 text-center" style="margin-top: 23em;">

    <div class="container">

        <div class="socials-media">

            <ul class="list-unstyled">
                <li class="d-inline-block ml-1 mr-1"><a href="https://www.facebook.com/eanovation/" class="text-dark"><i
                        class="fa fa-facebook"></i></a>
                </li>
                <li class="d-inline-block ml-1 mr-1"><a href="https://twitter.com/eano_home_reno" class="text-dark"><i
                        class="fa fa-twitter"></i></a>
                </li>
                <li class="d-inline-block ml-1 mr-1"><a href="https://www.instagram.com/eano_home_renovation/?hl=en"
                                                        class="text-dark"><i class="fa fa-instagram"></i></a>
                </li>
            </ul>

        </div>

        <p>© <span class="credits font-weight-bold">
            <a target="_blank" class="text-dark"
               href="https://www.eano.com/"><u>Eano</u></a>
          </span>
        </p>
    </div>
</footer>
</body>
</html>